<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Testing and preparing input data — is.trex • TREX</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Testing and preparing input data — is.trex" />
<meta property="og:description" content="Testing if the structure of the input matches the requirements of the TREX functions
 and specify the time zone. The input has to be presented either one of two different data.frame formats.
 i) Timestamp format: including a 1) timestamp of the measurements column &amp;lt;as.character&amp;gt;, and
 2) value of \(\Delta\)V (or \(\Delta\)T) as.numeric. ii) Doy format: including a 1) year of measurements column as.integer,
 2) day of the year (doy) of measurement as.integer, 3) hour of the measurement as.character, and
 4) value of \(\Delta\)V (or \(\Delta\)T) as.numeric. TREX functions are applied on time series obtained from a set of
 thermal dissipation probes. This includes the option where the thermal dissipation method (TDM) is
 used with only a reference and heating probe, or when including addition reference probes (see ref.add).
 These reference probe measurements can be added to the doy or timestamp format in \(\Delta\)V (or \(\Delta\)T) as.numeric
 labelled ref1, ref2, etc. (depending on the number of reference probes). For this function the following
 column names have to be present within the data.frame: &quot;timestamp” or &quot;year” &amp;amp; &quot;doy” &amp;amp; &quot;hour” = indicators
 of time and &quot;value” = TDM measurements (option &quot;ref1”, &quot;ref2, …, refn = reference probes).
 After specifying the time zone (tz), one can select whether to standardize the temporal series to solar
 time (see solar.time) by providing the longitude in decimal degrees at which the measurements were
 obtained (in long.deg). All timestamps within the function are rounded to minute resolution and output can
 be either provided in a zoo format (df = FALSE) or data.frame (df = TRUE; default is FALSE).
@usage is.trex(data, tz = “UTC”, format = “
  solar.time = FALSE, long.deg = 7.7459,
   ref.add = FALSE, df = FALSE)" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TREX</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/the-Hull/TREX">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Testing and preparing input data</h1>
    <small class="dont-index">Source: <a href='https://github.com/the-Hull/TREX/blob/master/R/is.trex.R'><code>R/is.trex.R</code></a></small>
    <div class="hidden name"><code>is.trex.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Testing if the structure of the input matches the requirements of the TREX functions
 and specify the time zone. The input has to be presented either one of two different data.frame formats.
 i) Timestamp format: including a 1) timestamp of the measurements column &lt;as.character&gt;, and
 2) value of \(\Delta\)V (or \(\Delta\)T) <em>as.numeric</em>. ii) Doy format: including a 1) year of measurements column <em>as.integer</em>,
 2) day of the year (doy) of measurement <em>as.integer</em>, 3) hour of the measurement <em>as.character</em>, and
 4) value of \(\Delta\)V (or \(\Delta\)T) <em>as.numeric</em>. TREX functions are applied on time series obtained from a set of
 thermal dissipation probes. This includes the option where the thermal dissipation method (TDM) is
 used with only a reference and heating probe, or when including addition reference probes (see ref.add).
 These reference probe measurements can be added to the doy or timestamp format in \(\Delta\)V (or \(\Delta\)T) <em>as.numeric</em>
 labelled ref1, ref2, etc. (depending on the number of reference probes). For this function the following
 column names have to be present within the data.frame: "timestamp” or "year” &amp; "doy” &amp; "hour” = indicators
 of time and "value” = TDM measurements (option "ref1”, "ref2, …, refn = reference probes).
 After specifying the time zone (tz), one can select whether to standardize the temporal series to solar
 time (see solar.time) by providing the longitude in decimal degrees at which the measurements were
 obtained (in <code>long.deg</code>). All timestamps within the function are rounded to minute resolution and output can
 be either provided in a zoo format (df = <code>FALSE</code>) or data.frame (df = <code>TRUE</code>; default is <code>FALSE</code>).</p>
<p>@usage is.trex(data, tz = “UTC”, format = “<!-- %m/%d/%y %H:%M:%S”, -->
  solar.time = FALSE, long.deg = 7.7459,
   ref.add = FALSE, df = FALSE)</p>
    </div>

    <pre class="usage"><span class='fu'>is.trex</span>(<span class='no'>data</span>, <span class='kw'>tz</span> <span class='kw'>=</span> <span class='st'>"UTC"</span>, <span class='kw'>time.format</span> <span class='kw'>=</span> <span class='st'>"%m/%d/%y %H:%M:%S"</span>,
  <span class='kw'>solar.time</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>long.deg</span> <span class='kw'>=</span> <span class='fl'>7.7459</span>, <span class='kw'>ref.add</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>df</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>data.frame in either timestamp format or doy format.</p></td>
    </tr>
    <tr>
      <th>tz</th>
      <td><p>Character string indicating the time zone in which the measurements have been recorded.</p></td>
    </tr>
    <tr>
      <th>time.format</th>
      <td><p>Character string indicating the format of the timestamp.</p></td>
    </tr>
    <tr>
      <th>solar.time</th>
      <td><p>Logical flag. If <code>TRUE</code>, time is converted to solar time, depending upon the location where the measurements have been taken. If <code>FALSE</code>, the output is provided in "UTC" (default = <code>FALSE</code>).</p></td>
    </tr>
    <tr>
      <th>long.deg</th>
      <td><p>Numeric value (longitude in decimal degrees E) to perform the solar time conversion. Only required when <code>solar.time=TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>ref.add</th>
      <td><p>Logical flag. If <code>TRUE</code>, additional probes provided within data are considered. The \(\Delta T\) values are then corrected by subtracting the \(\Delta T\) measured between the reference probes from the \(\Delta\) T measured between the heated and unheated probe (default = <code>FALSE</code>).</p></td>
    </tr>
    <tr>
      <th>df</th>
      <td><p>Logical flag. If <code>TRUE</code>, output is provided in a data.frame format with a timestamp and a value (\(\Delta T\) or \(\Delta V\)) column. If <code>FALSE</code>, output is provided as a zoo vector object (default = <code>FALSE</code>).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A zoo object or data.frame in the appropriate format for other functionalities.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>To prevent errors occurring in the other reported functions, it is advised to run this function
 for checking the data structure and preparing it for further analyses. For the specific time zone see
 <a href='https://en.wikipedia.org/wiki/List_of_tz_database_time_zones'>https://en.wikipedia.org/wiki/List_of_tz_database_time_zones</a> or for formatting see <code><a href='https://rdrr.io/r/base/timezones.html'>OlsonNames</a>()</code>.
 The format of the timestamp has to be provided according to <a href='https://www.stat.berkeley.edu/~s133/dates.html'>https://www.stat.berkeley.edu/~s133/dates.html</a>.
 For the method behind the solar time conversion, see the solar package (<a href='https://cran.r-project.org/web/packages/solaR/'>https://cran.r-project.org/web/packages/solaR/</a>).
 The longitude has to be provided in positive decimal degrees for study sites east from the Greenwich meridian and negative for sites to the west.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>#validating and structuring example data</span>
<span class='no'>raw</span>   <span class='kw'>&lt;-</span> <span class='fu'><a href='example.data.html'>example.data</a></span>(<span class='kw'>type</span><span class='kw'>=</span><span class='st'>"doy"</span>)
<span class='no'>input</span> <span class='kw'>&lt;-</span> <span class='fu'>is.trex</span>(<span class='no'>raw</span>,<span class='kw'>tz</span><span class='kw'>=</span><span class='st'>"GMT"</span>,<span class='kw'>time.format</span><span class='kw'>=</span><span class='st'>"%H:%M"</span>,
    <span class='kw'>solar.time</span><span class='kw'>=</span><span class='fl'>TRUE</span>,<span class='kw'>long.deg</span><span class='kw'>=</span><span class='fl'>7.7459</span>,
    <span class='kw'>ref.add</span><span class='kw'>=</span><span class='fl'>FALSE</span>,<span class='kw'>df</span><span class='kw'>=</span><span class='fl'>FALSE</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='no'>raw</span>)</div><div class='output co'>#&gt;   year doy  hour value
#&gt; 1 2012 108 15:00 0.444
#&gt; 2 2012 108 15:15 0.541
#&gt; 3 2012 108 15:30 0.560
#&gt; 4 2012 108 15:45 0.568
#&gt; 5 2012 108 16:00 0.572
#&gt; 6 2012 108 16:15 0.545</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='no'>input</span>)</div><div class='output co'>#&gt; ‘zoo’ series from 2012-04-17 15:30:00 to 2015-07-19 17:15:00
#&gt;   Data: num [1:111792] 0.444 0.541 0.56 0.568 0.572 0.545 0.576 0.578 0.581 0.584 ...
#&gt;   Index:  POSIXct[1:111792], format: "2012-04-17 15:30:00" "2012-04-17 15:45:00" "2012-04-17 16:00:00" ...</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='no'>input</span>)</div><div class='output co'>#&gt; 2012-04-17 15:30:00 2012-04-17 15:45:00 2012-04-17 16:00:00 2012-04-17 16:15:00 
#&gt;               0.444               0.541               0.560               0.568 
#&gt; 2012-04-17 16:30:00 2012-04-17 16:45:00 
#&gt;               0.572               0.545 </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>input</span>)</div><div class='img'><img src='is.trex-1.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Richard Peters, Christoforos Pappas, Alexander Hurley, Kathy Steppe.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


